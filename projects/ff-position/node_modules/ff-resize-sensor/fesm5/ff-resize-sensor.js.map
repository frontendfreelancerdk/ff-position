{"version":3,"file":"ff-resize-sensor.js.map","sources":["ng://ff-resize-sensor/lib/resize-event.ts","ng://ff-resize-sensor/lib/ff-resize-sensor.service.ts","ng://ff-resize-sensor/lib/ff-resize-sensor.directive.ts","ng://ff-resize-sensor/lib/ff-resize-sensor.module.ts"],"sourcesContent":["export class FFResizeSensorEvent {\n  constructor(\n    readonly el: HTMLElement,\n    readonly oldWidth: number,\n    readonly oldHeight: number,\n    readonly width: number,\n    readonly height: number\n  ) {\n  }\n}\n","import {Inject, Injectable, PLATFORM_ID} from '@angular/core';\nimport {ResizeSensor} from 'css-element-queries';\nimport {FFResizeSensorEvent} from './resize-event';\nimport {isPlatformBrowser} from '@angular/common';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FFResizeSensorService {\n  constructor(@Inject(PLATFORM_ID) private platformId: any) {\n  }\n\n  subscribe(el, callback) {\n    if (!el || typeof callback !== 'function') {\n      return;\n    }\n    if (isPlatformBrowser(this.platformId)) {\n      let {width, height} = el.getBoundingClientRect();\n      width = Math.round(width);\n      height = Math.round(height);\n      new ResizeSensor(el, (s) => {\n        const event = new FFResizeSensorEvent(\n          el,\n          width,\n          height,\n          s.width,\n          s.height\n        );\n        callback(event);\n        width = s.width;\n        height = s.height;\n      });\n      callback(new FFResizeSensorEvent(el, width, height, width, height));\n    }\n  }\n}\n","import {AfterViewInit, Directive, ElementRef, EventEmitter, Inject, Output, PLATFORM_ID} from '@angular/core';\nimport {FFResizeSensorService} from './ff-resize-sensor.service';\nimport {FFResizeSensorEvent} from './resize-event';\n\n@Directive({\n  selector: '[ffResizeSensor]',\n  exportAs: 'ffResizeSensor'\n})\nexport class FFResizeSensorDirective implements AfterViewInit {\n  public width: number;\n  public height: number;\n  public oldWidth: number;\n  public oldHeight: number;\n  @Output()\n  readonly resize = new EventEmitter<FFResizeSensorEvent>();\n\n  constructor(public el: ElementRef, private service: FFResizeSensorService, @Inject(PLATFORM_ID) private platformId: any) {\n  }\n\n  ngAfterViewInit(): void {\n    this.service.subscribe(this.el.nativeElement, event => {\n      this.onResize(event);\n    });\n  }\n\n  private onResize(event) {\n    this.oldWidth = event.oldWidth;\n    this.oldHeight = event.oldHeight;\n    this.width = event.width;\n    this.height = event.height;\n    this.resize.emit(event);\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {FFResizeSensorDirective} from './ff-resize-sensor.directive';\n\n@NgModule({\n  declarations: [FFResizeSensorDirective],\n  imports: [],\n  exports: [FFResizeSensorDirective]\n})\nexport class FFResizeSensorModule {\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;IACE,6BACW,EAAe,EACf,QAAgB,EAChB,SAAiB,EACjB,KAAa,EACb,MAAc;QAJd,OAAE,GAAF,EAAE,CAAa;QACf,aAAQ,GAAR,QAAQ,CAAQ;QAChB,cAAS,GAAT,SAAS,CAAQ;QACjB,UAAK,GAAL,KAAK,CAAQ;QACb,WAAM,GAAN,MAAM,CAAQ;KAExB;IACH,0BAAC;CAAA,IAAA;;;;;;ACTD;IASE,+BAAyC,UAAe;QAAf,eAAU,GAAV,UAAU,CAAK;KACvD;;;;;;IAED,yCAAS;;;;;IAAT,UAAU,EAAE,EAAE,QAAQ;QACpB,IAAI,CAAC,EAAE,IAAI,OAAO,QAAQ,KAAK,UAAU,EAAE;YACzC,OAAO;SACR;QACD,IAAI,iBAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;YAClC,IAAA,+BAA4C,EAA3C,kBAAK,EAAE,oBAAoC;YAChD,OAAK,GAAG,IAAI,CAAC,KAAK,CAAC,OAAK,CAAC,CAAC;YAC1B,QAAM,GAAG,IAAI,CAAC,KAAK,CAAC,QAAM,CAAC,CAAC;YAC5B,IAAI,YAAY,CAAC,EAAE;;;;YAAE,UAAC,CAAC;;oBACf,KAAK,GAAG,IAAI,mBAAmB,CACnC,EAAE,EACF,OAAK,EACL,QAAM,EACN,CAAC,CAAC,KAAK,EACP,CAAC,CAAC,MAAM,CACT;gBACD,QAAQ,CAAC,KAAK,CAAC,CAAC;gBAChB,OAAK,GAAG,CAAC,CAAC,KAAK,CAAC;gBAChB,QAAM,GAAG,CAAC,CAAC,MAAM,CAAC;aACnB,EAAC,CAAC;YACH,QAAQ,CAAC,IAAI,mBAAmB,CAAC,EAAE,EAAE,OAAK,EAAE,QAAM,EAAE,OAAK,EAAE,QAAM,CAAC,CAAC,CAAC;SACrE;KACF;;gBA7BF,UAAU,SAAC;oBACV,UAAU,EAAE,MAAM;iBACnB;;;;gDAEc,MAAM,SAAC,WAAW;;;gCATjC;CAKA;;;;;;ACLA;IAgBE,iCAAmB,EAAc,EAAU,OAA8B,EAA+B,UAAe;QAApG,OAAE,GAAF,EAAE,CAAY;QAAU,YAAO,GAAP,OAAO,CAAuB;QAA+B,eAAU,GAAV,UAAU,CAAK;QAF9G,WAAM,GAAG,IAAI,YAAY,EAAuB,CAAC;KAGzD;;;;IAED,iDAAe;;;IAAf;QAAA,iBAIC;QAHC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa;;;;QAAE,UAAA,KAAK;YACjD,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;SACtB,EAAC,CAAC;KACJ;;;;;;IAEO,0CAAQ;;;;;IAAhB,UAAiB,KAAK;QACpB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC;QAC/B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC;QACjC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;QACzB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;QAC3B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACzB;;gBA3BF,SAAS,SAAC;oBACT,QAAQ,EAAE,kBAAkB;oBAC5B,QAAQ,EAAE,gBAAgB;iBAC3B;;;;gBAPiC,UAAU;gBACpC,qBAAqB;gDAeiD,MAAM,SAAC,WAAW;;;yBAH7F,MAAM;;IAmBT,8BAAC;CA5BD;;;;;;ACJA;IAGA;KAMC;;gBANA,QAAQ,SAAC;oBACR,YAAY,EAAE,CAAC,uBAAuB,CAAC;oBACvC,OAAO,EAAE,EAAE;oBACX,OAAO,EAAE,CAAC,uBAAuB,CAAC;iBACnC;;IAED,2BAAC;CAND;;;;;;;;;;;;;;"}
